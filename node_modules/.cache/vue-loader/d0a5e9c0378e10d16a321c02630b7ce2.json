{"remainingRequest":"/Users/lsn/GitSpace/musicapp/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/lsn/GitSpace/musicapp/src/components/PlayController.vue?vue&type=style&index=0&id=cae31fc0&lang=less&scoped=true","dependencies":[{"path":"/Users/lsn/GitSpace/musicapp/src/components/PlayController.vue","mtime":1636383954280},{"path":"/Users/lsn/GitSpace/musicapp/node_modules/css-loader/dist/cjs.js","mtime":1635338185822},{"path":"/Users/lsn/GitSpace/musicapp/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1635338186528},{"path":"/Users/lsn/GitSpace/musicapp/node_modules/postcss-loader/src/index.js","mtime":1635338186083},{"path":"/Users/lsn/GitSpace/musicapp/node_modules/less-loader/dist/cjs.js","mtime":1635338185930},{"path":"/Users/lsn/GitSpace/musicapp/node_modules/cache-loader/dist/cjs.js","mtime":1635338185367},{"path":"/Users/lsn/GitSpace/musicapp/node_modules/vue-loader-v16/dist/index.js","mtime":1635338186082}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5wbGF5Q29udHJvbGxlciB7CiAgd2lkdGg6IDcuNXJlbTsKICBoZWlnaHQ6IDFyZW07CiAgcG9zaXRpb246IGZpeGVkOwogIGJvdHRvbTogMDsKICBsZWZ0OiAwOwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNjY2M7CiAgYmFja2dyb3VuZDogI2ZmZjsKCiAgLmxlZnQgewogICAgaGVpZ2h0OiAxMDAlOwogICAgd2lkdGg6IDVyZW07CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKCiAgICAuY292ZXIgewogICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIHBhZGRpbmc6IDAuMnJlbTsKCiAgICAgIGltZyB7CiAgICAgICAgd2lkdGg6IDAuNnJlbTsKICAgICAgICAvLyBoZWlnaHQ6IDAuNXJlbTsKICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgIH0KICAgIH0KCiAgICAuY29udGVudCB7CiAgICAgIHdpZHRoOiAzLjZyZW07CiAgICAgIGhlaWdodDogMTAwJTsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgIHRleHQtYWxpZ246IGxlZnQ7CgogICAgICBzcGFuIHsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgfQoKICAgICAgLnRpdGxlIHsKICAgICAgICBmb250LXNpemU6IDAuM3JlbTsKICAgICAgICBmb250LXdlaWdodDogNTAwOwogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICAgICAgfQogICAgICAuYXJ0aXN0IHsKICAgICAgICBmb250LXNpemU6IDAuMTVyZW07CiAgICAgICAgY29sb3I6ICM3Nzc7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogICAgICB9CiAgICB9CiAgfQoKICAucmlnaHQgewogICAgaGVpZ2h0OiAxMDAlOwogICAgd2lkdGg6IDFyZW07CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIG1hcmdpbi1yaWdodDogMC4ycmVtOwoKICAgIC5wbGF5IHsKICAgIH0KCiAgICAubGlzdCB7CiAgICAgIGZvbnQtc2l6ZTogMC40cmVtOwogICAgfQogIH0KfQo="},{"version":3,"sources":["/Users/lsn/GitSpace/musicapp/src/components/PlayController.vue"],"names":[],"mappings":"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","file":"/Users/lsn/GitSpace/musicapp/src/components/PlayController.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"playController\">\n    <div class=\"left\" @click=\"switchShowPlayMusic\">\n      <div class=\"cover\">\n        <img :src=\"currentMusic.al.picUrl\" alt=\"图片不见了\" />\n      </div>\n      <div class=\"content\">\n        <span class=\"title\">{{ currentMusic.name }}</span>\n        <span class=\"artist\">{{\n          getArtists(currentMusic.ar, currentMusic.al)\n        }}</span>\n      </div>\n    </div>\n    <div class=\"right\">\n      <icon\n        iconName=\"icon-24gl-play\"\n        class=\"play\"\n        v-show=\"!isPlaying\"\n        @click=\"play\"\n      />\n      <icon\n        iconName=\"icon-24gl-pause\"\n        class=\"play\"\n        v-show=\"isPlaying\"\n        @click=\"pause\"\n      />\n      <icon iconName=\"icon-danlieliebiao\" class=\"list\" />\n    </div>\n    <!-- <audio\n      controls\n      ref=\"audio\"\n      :src=\"`https://music.163.com/song/media/outer/url?id=${currentMusic.id}.mp3`\"\n    ></audio> -->\n    <audio\n      ref=\"audio\"\n      :src=\"`https://music.163.com/song/media/outer/url?id=${currentMusic.id}.mp3`\"\n    ></audio>\n    <play-music v-show=\"showPlayMusic\" @play=\"play\" @pause=\"pause\" />\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from \"vuex\";\n\nimport Icon from \"@/components/Icon.vue\";\nimport PlayMusic from \"@/components/PlayMusic.vue\";\n\nexport default {\n  data() {\n    return {\n      // isPlaying: false,\n    };\n  },\n  components: {\n    Icon,\n    PlayMusic,\n  },\n  computed: {\n    ...mapState([\"isPlaying\", \"showPlayMusic\", \"intvalID\"]),\n    ...mapGetters([\"currentMusic\"]),\n  },\n  mounted() {\n    // console.log(\"state\");\n    // console.log(this.$store.state);\n    // console.log(\"state\");\n    this.$store.commit(\"setPlayFunc\", this.play.bind(this));\n    this.$store.commit(\"setPauseFunc\", this.pause.bind(this));\n  },\n  methods: {\n    getArtists(artists, album) {\n      let names = artists.map((item) => item.name).join(\", \");\n      if (album && album.name) {\n        names += \" - \" + album.name;\n      }\n      return names;\n    },\n    pause() {\n      if (!this.$refs.audio.paused) {\n        this.$refs.audio.pause();\n        this.$store.commit(\"switchPlayPause\");\n        // console.log(1);\n\n        // console.log(this.isPlaying);\n        // 暂停时清除定时器\n        clearInterval(this.intvalID);\n      }\n    },\n    play() {\n      if (this.$refs.audio.paused) {\n        this.$refs.audio.play();\n        this.$store.commit(\"switchPlayPause\");\n        // 设置定时器不断更新歌曲播放的当前时间\n        let id = setInterval(() => {\n          this.$store.commit(\"setCurrentTime\", this.$refs.audio.currentTime);\n          console.log(this.$store.state.currentTime);\n        }, 500);\n        this.$store.commit(\"setIntervalID\", id);\n        // console.log(2);\n        // console.log(this.isPlaying);\n        // console.log(this.$refs.audio);\n        // console.log(this.$refs.audio.paused);\n      }\n      // else {\n      //   this.$refs.audio.pause();\n      //   this.$store.commit(\"switchPlayPause\");\n      //   clearInterval(this.$store.state.intId);\n      // }\n    },\n    switchPlayPause() {\n      console.log(this.$refs.audio);\n      if (this.$refs.audio.paused) {\n        this.$refs.audio.play();\n        this.$store.commit(\"switchPlayPause\");\n        console.log(\"播放\");\n      } else {\n        this.$refs.audio.pause();\n        this.$store.commit(\"switchPlayPause\");\n        console.log(\"暂停\");\n      }\n    },\n    switchShowPlayMusic() {\n      this.$store.commit(\"switchShowPlayMusic\");\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.playController {\n  width: 7.5rem;\n  height: 1rem;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-top: 1px solid #ccc;\n  background: #fff;\n\n  .left {\n    height: 100%;\n    width: 5rem;\n    display: flex;\n    align-items: center;\n\n    .cover {\n      height: 100%;\n      display: flex;\n      align-items: center;\n      padding: 0.2rem;\n\n      img {\n        width: 0.6rem;\n        // height: 0.5rem;\n        border-radius: 50%;\n      }\n    }\n\n    .content {\n      width: 3.6rem;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      text-align: left;\n\n      span {\n        width: 100%;\n      }\n\n      .title {\n        font-size: 0.3rem;\n        font-weight: 500;\n        width: 100%;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n      }\n      .artist {\n        font-size: 0.15rem;\n        color: #777;\n        width: 100%;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n      }\n    }\n  }\n\n  .right {\n    height: 100%;\n    width: 1rem;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-right: 0.2rem;\n\n    .play {\n    }\n\n    .list {\n      font-size: 0.4rem;\n    }\n  }\n}\n</style>"]}]}